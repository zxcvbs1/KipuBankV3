########################################
# Example .env for KipuBankV3
#
# Copiá este archivo como ".env" y completá
# las partes marcadas con comentarios de "REEMPLAZAR".
########################################

############################
# Perfil testnet (Sepolia)
############################

# RPC de Sepolia (Alchemy/Infura/etc.). REEMPLAZAR por tu URL real
SEPOLIA_RPC_URL=https://eth-sepolia.example/v2/TU_API_KEY

# Opcional: parámetros para forkeo local con Anvil
FORK_CHAIN_ID=11155111
FORK_BLOCK=9594582

# Direcciones Uniswap V2 + tokens core en Sepolia (valores usados por los tests)
V2_ROUTER=0xeE567Fe1712Faf6149d80dA1E6934E354124CfE3
FACTORY=0xF62c03E08ada871A0bEb309762E260a7a6a880E6
WETH=0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14
USDC=0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238

# Tokens auxiliares para tests en Sepolia
LINK=0x779877A7B0D9E8603169DdbD7836e478b4624789
CHEX=0x5A0a73a29ea6a3fe41ED20d4D757810E765542C0
DAI=0x776b6fC2eD15D6Bb5Fc32e0c89DE68683118c62A
TOKEN=0xb21bED9b1BaC3FbE5708332cEf303deD4b006777

# Alias convenientes para tests
PAIR_TOKEN=0x779877A7B0D9E8603169DdbD7836e478b4624789   # token con par directo a USDC (LINK)
NOT_PAIR_TOKEN=0xb21bED9b1BaC3FbE5708332cEf303deD4b006777 # token sin par directo a USDC

# Oráculo Chainlink ETH/USD para Sepolia
ETH_ORACLE=0x694AA1769357215DE4FAC081bf1f309aDC325306

# Máxima antigüedad permitida del oráculo (segundos)
ORACLE_MAX_DELAY=86400

# Desviación permitida contra el oráculo en bps
#  - 0: desactiva el chequeo de oráculo
#  - 1000: 10% de tolerancia
ORACLE_DEV_BPS=1000

############################
# Perfil mainnet (Ethereum)
############################

# RPC de mainnet (Alchemy/Infura/etc.). REEMPLAZAR por tu URL real
MAINNET_RPC_URL=https://eth-mainnet.example/v2/TU_API_KEY

# Direcciones Uniswap V2 + tokens core en mainnet
USDC_MAINNET=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48
WETH_MAINNET=0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
V2_ROUTER_MAINNET=0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D
FACTORY_MAINNET=0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f
ETH_ORACLE_MAINNET=0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419

MAINNET_CHAIN_ID=1
FORK_BLOCK_MAINNET=23764931

# Tokens auxiliares para tests en mainnet
PAIR_TOKEN_MAINNET=0x514910771AF9Ca656af840dff83E8264EcF986CA   # LINK
NOT_PAIR_TOKEN_MAINNET=0x0000000000000000000000000000000000000001 # dummy

############################
# Banco: parámetros por defecto
############################

# Tope global del banco en USDC 6 decimales
BANK_CAP_USD6=1000000000000      # 1 000 000 USDC

# Límite por retiro en USDC 6 decimales
WITHDRAW_CAP_USD6=100000000000   # 100 000 USDC

# Slippage permitido para swaps (bps)
SLIPPAGE_BPS=100                 # 1%

############################
# Deploy / roles / timelock
############################

# Clave privada del deployer (NO commitear nunca la real)
# REEMPLAZAR por tu clave en tu .env local y dejar este ejemplo comentado
# PRIVATE_KEY=0xTU_PRIVATE_KEY_AQUI

# Admin del banco (EOA, multisig o timelock si lo usas)
# REEMPLAZAR por tu address de admin en tu .env
# ADMIN=0xTuAdminAddressAqui

# Pauser (puede ser igual al admin o un operador separado)
# REEMPLAZAR por tu address de pauser
# PAUSER=0xTuPauserAddressAqui

# Configuración de timelock (solo si usas KipuTimelock como admin)
TIMELOCK_MIN_DELAY=30
# REEMPLAZAR por addresses reales si activas timelock
TIMELOCK_PROPOSER=0x2222222222222222222222222222222222222222
TIMELOCK_EXECUTOR=0x2222222222222222222222222222222222222222
TIMELOCK_ADMIN=0x2222222222222222222222222222222222222222

# Direcciones a completar luego del deploy
KIPUTIMELOCK_SEPOLIA=0x0000000000000000000000000000000000000000
KIPUBANKV3_SEPOLIA=0x0000000000000000000000000000000000000000

# Alias del timelock para scripts (se rellena después del deploy del timelock)
TIMELOCK_ADDRESS=0x0000000000000000000000000000000000000000

############################
# Etherscan / verificación
############################

# API key para verificación en Etherscan (NO commitear la real)
# REEMPLAZAR por tu API key en tu .env local
# ETHERSCAN_API_KEY=TU_ETHERSCAN_KEY_AQUI

########################################
# Notas
########################################
# - copy .env.example.bkp -> .env y completa las secciones marcadas.
# - script/select-env.sh usa estas variables para setear V2_ROUTER, WETH,
#   USDC, ETH_ORACLE, ORACLE_MAX_DELAY, ORACLE_DEV_BPS, etc.
# - nunca commitees valores reales de PRIVATE_KEY, ADMIN, PAUSER ni ETHERSCAN_API_KEY.

